
<html>
<head>
	<title></title>
</head>
<style>
	html {
		margin: 16%;
		margin-top: 100px;
		background: #ecf0f1;
	}
	.test {
		width: 500px;
		padding: 20px;
		margin: 10px;
	}
	.failed {
		background: #e74c3c;
	}
	.passed {
		background: #2ecc71;
	}

</style>
<script type="text/javascript" src = "../scripts/main.js"></script>
<body>

	<hgroup>
		<h1> Unit Tests </h1>
		<h2>  </h2>
	</hgroup>

	<button id = "run-tests" onclick = "testAll()"> Run </button>

	<div id = "test-info"></div>

</body>
<script type="text/javascript">
		

	var testAll = function () {
		// run all tests 
		var div = document.getElementById('test-info');
		div.innerHTML = "";

		var test = function (description, func) {
			return {
				description: description,
				func: func
			};
		}

		var testSuite = [
			test("test that indMap works", function () {

				var indices = lambda.indMap(function (val, ind) {
					return ind
				}, [1,2,3]);
				
				return indices.length === [1,2,3];
			})
		];

		var report = function (test, status) {
			// append some text to the page

			if (status === "passed") {
				var message = "<div class = 'test passed'>" +
					test.description + 
				"</div>"
			} else {
				var message = "<div class = 'test failed'>" +
					test.description + 
				"</div>"			
			}

			var div = document.getElementById('test-info');
			div.innerHTML = div.innerHTML + message;
		}

		for (unitTest in testSuite) {
			if (!testSuite.hasOwnProperty(unitTest)) {
				continue
			}
			unitTest = testSuite[unitTest]

			var allPassed = unitTest.func()

			if (allPassed) {
				report(unitTest, status = "passed")
			} else {
				report(unitTest, status = "failed")
			}
		}
	}


</script>
</html>
